#############################################
# PICOM CONFIG â€“ Optimized for BSPWM + X11  #
# Fork: Jonaburg/ibhagwan                   #
#############################################

#############################################
# Backend / General
#############################################
backend = "glx";
vsync = true;
use-damage = true;
xrender-sync = true;
xrender-sync-fence = true;

#############################################
# Animations (Jonaburg)
#############################################
transition = true;
transition-length = 250;
transition-pow-x = 0.1;
transition-pow-y = 0.1;
transition-pow-w = 0.1;
transition-pow-h = 0.1;
size-transition = true;

# Exclude animations from bar + menus
transition-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'Rofi'",
  "class_g = 'dunst'",
  "class_g = 'sxhkd'",
  "class_g = 'kitty' && window_type = 'dock'"
];

#############################################
# Rounded Corners
#############################################
corner-radius = 15;
round-borders = 1;
detect-rounded-corners = true;

# Don't round Polybar or dunst
rounded-corners-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'dunst'",
  "window_type = 'dock'"
];

#############################################
# Shadows
#############################################
shadow = true;
shadow-radius = 18;
shadow-opacity = 0.25;
shadow-offset-x = -6;
shadow-offset-y = -6;

shadow-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'Rofi'",
  "class_g = 'dunst'",
  "class_g = 'slop'",
  "window_type = 'dock'",
  "window_type = 'desktop'"
];

#############################################
# Opacity
#############################################
inactive-opacity = 0.95;
active-opacity   = 1.00;
frame-opacity    = 0.95;

inactive-opacity-override = false;

opacity-rule = [
  "95:class_g = 'kitty'",
  "90:class_g = 'Alacritty'",
  "100:class_g = 'Polybar'",
  "100:window_type = 'dock'"
];

#############################################
# Blur (dual kawase)
#############################################
blur-method = "dual_kawase";
blur-strength = 6;

blur-background = true;
blur-background-frame = true;

blur-background-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'Rofi'",
  "class_g = 'dunst'",
  "window_type = 'dock'",
  "window_type = 'desktop'"
];

#############################################
# Fading
#############################################
fading = true;
fade-in-step = 0.04;
fade-out-step = 0.04;
fade-delta = 10;

fade-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'Rofi'"
];

#############################################
# Window Types
#############################################
wintypes : 
{
  tooltip = { fade = true; shadow = false; };
  dock    = { shadow = false; };
  menu    = { fade = true; shadow = true; };
  popup_menu = { fade = true; shadow = true; };
  dropdown_menu = { fade = true; shadow = true; };
};
